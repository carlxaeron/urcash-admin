(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"3aed":function(t,e,a){},9711:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-secondary"},[a("Requests"),a("div",{staticClass:"q-pa-md"},[a("q-card",{staticClass:"my-card q-pa-md"},[a("q-table",{attrs:{title:"Cashout Review",dense:"",data:t.data,columns:t.columns,"row-key":"date","binary-state-sort":"",filter:t.filter,"no-data-label":" No Cashouts to Review at this Time"},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"400",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"date",attrs:{props:e}},[t._v("\n          "+t._s(e.row.date)+"\n        ")]),a("q-td",{key:"merchant",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.merchant_name))])]),a("q-td",{key:"payment",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.payment_method))])]),a("q-td",{key:"account_name",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.account_name))])]),a("q-td",{key:"account_number",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.account_number))])]),a("q-td",{key:"amount",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.cost))])]),a("q-td",{key:"Action",attrs:{props:e}},[a("q-btn",{attrs:{color:"primary"},on:{click:function(a){t.get_date=e.row.date,t.get_ref=e.row.ref_number,t.get_merchant=e.row.merchant_name,t.get_payment=e.row.payment_method,t.get_accountName=e.row.account_name,t.get_accountNo=e.row.account_number,t.get_amount=e.row.cost,t.get_id=e.row.id,t.view_cashout=!0}}},[a("div",{staticClass:"q-ml-xs"},[t._v(" View")])])],1)],1)]}}])})],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.view_cashout,callback:function(e){t.view_cashout=e},expression:"view_cashout"}},[a("q-card",{staticStyle:{"max-width":"300px",width:"100%"}},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[t._v("Cashout Details")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-subtitle1"},[t._v("\n          Date\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n       "+t._s(t.get_date)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Reference No.\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_ref)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Merchant Name\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_merchant)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Payment Method\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_payment)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Account Name\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_accountName)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Account No.\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n          "+t._s(t.get_accountNo)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Amount\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_amount)+"\n        ")]),a("q-separator")],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"info",label:"Approve"},on:{click:function(e){return t.verify(t.get_id)}}}),a("q-btn",{attrs:{color:"negative",label:"Reject"},on:{click:function(e){return t.reject(t.get_id)}}})],1)],1)],1)],1),a("div",{staticClass:"q-pa-md"},[a("q-card",{staticClass:"my-card q-pa-md"},[a("q-table",{attrs:{title:"Successful Cashout",dense:"",data:t.data1,columns:t.columns1,"row-key":"date","binary-state-sort":"",filter:t.filter1},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"400",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter1,callback:function(e){t.filter1=e},expression:"filter1"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"date",attrs:{props:e}},[t._v("\n          "+t._s(e.row.date)+"\n        ")]),a("q-td",{key:"merchant",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.merchant_name))])]),a("q-td",{key:"payment",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.payment_method))])]),a("q-td",{key:"account_name",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.account_name))])]),a("q-td",{key:"account_number",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.account_number))])]),a("q-td",{key:"amount",attrs:{props:e}},[a("div",{staticClass:"text-pre-wrap"},[t._v(t._s(e.row.cost))])]),a("q-td",{key:"Action",attrs:{props:e}},[a("q-btn",{attrs:{color:"primary"},on:{click:function(a){t.get_date=e.row.date,t.get_ref=e.row.ref_number,t.get_merchant=e.row.merchant_name,t.get_payment=e.row.payment_method,t.get_accountName=e.row.account_name,t.get_accountNo=e.row.account_number,t.get_amount=e.row.cost,t.get_id=e.row.id,t.view_successful=!0}}},[a("div",{staticClass:"q-ml-xs"},[t._v(" View")])])],1)],1)]}}])})],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.view_successful,callback:function(e){t.view_successful=e},expression:"view_successful"}},[a("q-card",{staticStyle:{"max-width":"300px",width:"100%"}},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[t._v("Successful Cashout Details")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-subtitle1"},[t._v("\n          Date\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n       "+t._s(t.get_date)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Reference No.\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_ref)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Merchant Name\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_merchant)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Payment Method\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_payment)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Account Name\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_accountName)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Account No.\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n          "+t._s(t.get_accountNo)+"\n        ")]),a("q-separator"),a("div",{staticClass:"text-subtitle1"},[t._v("\n          Amount\n        ")]),a("div",{staticClass:"text-caption text-bold"},[t._v("\n         "+t._s(t.get_amount)+"\n        ")]),a("q-separator")],1)],1)],1)],1)],1)},n=[],o=a("0aef"),c={name:"PageIndex",components:{Requests:o["a"]},data(){return{view_successful:!1,filter:"",filter1:"",get_id:null,get_date:null,get_ref:null,get_merchant:null,get_payment:null,get_accountName:null,get_accountNo:null,get_amount:null,view_cashout:!1,columns:[{name:"date",align:"left",label:"Date",field:"date",sortable:!0},{name:"merchant",align:"left",label:"Merchant Name",field:"merchant_name"},{name:"payment",align:"left",label:"Payment Method",field:"payment_method"},{name:"account_name",align:"left",label:"Account Name",field:"account_name"},{name:"account_number",align:"left",label:"Account #",field:"account_number"},{name:"amount",align:"left",label:"Amount",field:"cost",sortable:!0},{name:"Action",align:"left",label:"Action",field:"Action",sortable:!0}],columns1:[{name:"date",align:"left",label:"Date",field:"date",sortable:!0},{name:"merchant",align:"left",label:"Merchant Name",field:"merchant_name"},{name:"payment",align:"left",label:"Payment Method",field:"payment_method"},{name:"account_name",align:"left",label:"Account Name",field:"account_name"},{name:"account_number",align:"left",label:"Account #",field:"account_number"},{name:"amount",align:"left",label:"Amount",field:"cost",sortable:!0},{name:"Action",align:"left",label:"Action",field:"Action",sortable:!0}],data:[],data1:[]}},methods:{verify(t){this.$q.dialog({title:"Confirm to approve!",message:"Are you sure you want to approve this request? Make sure to carefully check the details.",cancel:!0,persistent:!0}).onOk(()=>{this.$axios.post("cashout/"+t+"/approve ",{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token")}}).then(t=>{console.log(t.data),this.view_cashout=!1,this.getCashouts(),this.$q.notify({message:"You have successfuly approve a cashout request!.",color:"info",icon:"warning"})}).catch(t=>{console.log(t.response)})}).onCancel(()=>{})},reject(t){this.$q.dialog({title:"Confirm to reject!",message:"Are you sure you want to reject this request? Make sure to carefully check the details.",cancel:!0,persistent:!0}).onOk(()=>{this.$axios.post("cashout/"+t+"/reject ",{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token")}}).then(t=>{console.log(t.data),this.view_cashout=!1,this.getCashouts(),this.$q.notify({message:"You have successfuly reject a cashout request!.",color:"negative",icon:"warning"})}).catch(t=>{console.log(t.response)})}).onCancel(()=>{})},getCashouts(){this.$axios.get("cashouts/pending/request ",{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token"),"Content-Type":"application/json"}}).then(t=>{console.log(t.data),this.data=t.data.results}).catch(t=>{console.log(t.response)})},getCashouts_suc(){this.$axios.get("cashouts/payments/successful",{headers:{Authorization:"Bearer "+this.$q.sessionStorage.getItem("token"),"Content-Type":"application/json"}}).then(t=>{console.log(t.data),this.data1=t.data.results.approved_cashouts}).catch(t=>{console.log(t.response)})}},created(){this.getCashouts(),this.getCashouts_suc()}},i=c,r=(a("a609"),a("2877")),l=a("9989"),u=a("f09f"),d=a("eaac"),p=a("27f9"),_=a("0016"),m=a("bd08"),v=a("db86"),h=a("9c40"),f=a("24e8"),g=a("d847"),b=a("2c91"),q=a("05c0"),w=a("a370"),x=a("eb85"),y=a("4b7e"),C=a("7f67"),k=a("eebe"),A=a.n(k),N=Object(r["a"])(i,s,n,!1,null,null,null);e["default"]=N.exports;A()(N,"components",{QPage:l["a"],QCard:u["a"],QTable:d["a"],QInput:p["a"],QIcon:_["a"],QTr:m["a"],QTd:v["a"],QBtn:h["a"],QDialog:f["a"],QBar:g["a"],QSpace:b["a"],QTooltip:q["a"],QCardSection:w["a"],QSeparator:x["a"],QCardActions:y["a"]}),A()(N,"directives",{ClosePopup:C["a"]})},a609:function(t,e,a){"use strict";var s=a("3aed"),n=a.n(s);n.a}}]);